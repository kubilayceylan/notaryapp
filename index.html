<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

        
        <title>Notary App!!</title>
    </head>

    <body>   
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        
        <img class="mySlides" src="/blockchain-banner.jpg" alt="custom_html_banner1" style="width:100%">
        <div class="container" style = "max-width: 100%; padding-left: 30px; padding-right: 30px; padding-top: 100px; padding-bottom: 100px; ">

            <div class="row">

                <!-- Left Panel -->
                <div class="col-2">
                    <div class="list-group" id="list-tab" role="tablist">
                        <a class="list-group-item list-group-item-action active show" id="list-invoke-list" data-toggle="tab" href="#list-invoke" role="tab" aria-controls="list-invoke" aria-selected="false">User Registration</a>
                        <a class="list-group-item list-group-item-action" id="list-query-list" data-toggle="tab" href="#list-query" role="tab" aria-controls="list-query" aria-selected="true">Asset Binding</a>
                        <a class="list-group-item list-group-item-action" id="list-user-list" data-toggle="tab" href="#list-user" role="tab" aria-controls="list-user" aria-selected="false">Query</a>
                        <a class="list-group-item list-group-item-action" id="list-admin-list" data-toggle="tab" href="#list-admin" role="tab" aria-controls="list-admin">Transaction</a>
                    </div>
                </div>

                <!-- Right Panel -->
                <div class="col-10">
                    <div class="tab-content" id="nav-tabContent">

                        <!-- Invoke -->
                        <div class="tab-pane fade show active" id="list-invoke" role="tabpanel" aria-labelledby="list-invoke-list">
                            <form id="invokeForm">
                                <div class="form-group">
                                    <label for="userid">User ID</label>
                                    <input type="text" class="form-control" id="userid" placeholder="user1">
                                </div>
                                <div class="form-group">
                                    <label for="username">User Name</label>
                                    <input type="text" class="form-control" id="username" placeholder="Name">
                                </div>
                                <div class="form-group">
                                    <label for="usersname">User Surname</label>
                                    <input type="text" class="form-control" id="usersname" placeholder="Surname">
                                </div>
                                <div class="form-group">
                                    <label for="amount">Cash Amount</label>
                                    <input type="text" class="form-control" id="amount" placeholder="1000000">
                                </div>
                                <button type="submit" class="btn btn-primary" id = "button1" >Submit</button>      
                                <br>
                                <br>
                                <div class="alert alert-success" id="RegistrationSuccess" role="alert" style="display: none;">
                                    <h4 class="alert-heading">Well done!</h4>
                                    <p>Successfully sent Proposal and received ProposalResponse: Status - 200, message - "OK"</p>
                                    <p>Successfully committed the change to the ledger by the peer.</p>
                                    <hr>
                                    <p id="RegistrationResult"></p>
                                    
                                </div>
                                
                                <!--
                                <div class="alert alert-danger" id="invokeError" role="alert" style="display: none;">
                                        Opps. Something went wrong. Check your server console.
                                </div>
                                -->
                            </form>
                        </div>

                        <!-- Query -->
                        <div class="tab-pane fade" id="list-query" role="tabpanel" aria-labelledby="list-query-list">
                            <form>
                                <div class="form-group">
                                    <label for="assetid">Asset ID</label>
                                    <input type="text" class="form-control" id="assetid" placeholder="asset1">
                                </div>
                                <div class="form-group">
                                    <label for="assettype">Asset Type</label>
                                    <input type="text" class="form-control" id="assettype" placeholder="House">
                                </div>
                                <div class="form-group">
                                    <label for="useridforasset">User ID</label>
                                    <input type="text" class="form-control" id="useridforasset" placeholder="user1">
                                </div>
                                <button type="submit" class="btn btn-primary" id = "buttonbinding">Submit</button>
                                <br>
                                <br>
                                <div class="alert alert-success" id="bindingSuccess" role="alert" style="display: none;">
                                    <h4 class="alert-heading">Well done!</h4>
                                    <p>Successfully sent Proposal and received ProposalResponse: Status - 200, message - "OK"</p>
                                    <p>Successfully committed the change to the ledger by the peer.</p>
                                    <hr>
                                    <p id="bindingResult"></p>
                                </div>
                            </form>
                        </div>
                        
                        <!-- Register User -->
                        <div class="tab-pane fade" id="list-user" role="tabpanel" aria-labelledby="list-user-list">
                            <form>
                                <div class="form-group">
                                    <label for="uqid">User ID</label>
                                    <input type="text" class="form-control" id="uqid">
                                </div>
                                <button type="submit" class="btn btn-primary" id = "uqbutton">Submit</button>
                            </form>
                            <br>
                            <br>
                            <div class="alert alert-success" id="uqSuccess" role="alert" style="display: none;">
                                <h4 class="alert-heading">Well done!</h4>
                                <p>Query Successful</p>
                                <hr>
                                <p id="uqResult"></p>
                            </div>

                            <form>
                                <div class="form-group">
                                    <label for="aqid">Asset ID</label>
                                    <input type="text" class="form-control" id="aqid">
                                </div>
                                <button type="submit" class="btn btn-primary" id = "aqbutton">Submit</button>
                            </form>
                            <br>
                            <br>
                            <div class="alert alert-success" id="aqSuccess" role="alert" style="display: none;">
                                <h4 class="alert-heading">Well done!</h4>
                                <p>Query Successful</p>
                                <hr>
                                <p id="aqResult"></p>
                            </div>

                            <form>
                                <div class="form-group">
                                    <label for="assethisid">Asset ID for Asset History</label>
                                    <input type="text" class="form-control" id="assethisid">
                                </div>
                                <button type="submit" class="btn btn-primary" id = "hisbutton">Submit</button>
                            </form>
                            <br>
                            <br>
                            <div class="alert alert-success" id="hisSuccess" role="alert" style="display: none;">
                                <h4 class="alert-heading">Well done!</h4>
                                <p>Query Successful</p>
                                <hr>
                                <p id="hisResult"></p>
                            </div>

                        </div>

                        <!-- Enroll Admin -->
                        <div class="tab-pane fade" id="list-admin" role="tabpanel" aria-labelledby="list-admin-list">
                            <form>
                                <div class="form-group">
                                    <label for="aouserid">Asset Owner's User ID</label>
                                    <input type="text" class="form-control" id="aouserid">
                                </div>
                                <div class="form-group">
                                    <label for="buserid">Buyer's User ID</label>
                                    <input type="text" class="form-control" id="buserid" >
                                </div>
                                <div class="form-group">
                                    <label for="assetidforex">Asset ID</label>
                                    <input type="text" class="form-control" id="assetidforex" >
                                </div>
                                <div class="form-group">
                                    <label for="camount">Cash Amount</label>
                                    <input type="text" class="form-control" id="camount" >
                                </div>
                                <button type="submit" class="btn btn-primary" id = "exchangebutton">Submit</button>
                            </form>
                            <br>
                            <br>
                            <div class="alert alert-success" id="exchangeSuccess" role="alert" style="display: none;">
                                <h4 class="alert-heading">Well done!</h4>
                                <p>Exchange Successful</p>
                                <hr>
                                <p id="exchangeResult"></p>
                            </div>
                            <br>
                            <br>
                        </div>

                    </div>
                </div>

            </div>

        </div>
        
        
        <!-- Button 1 Action Listener-->
        <script>
            document.getElementById("button1").addEventListener("click", function(event){
                event.preventDefault();
                document.getElementById("RegistrationSuccess").style.display = 'none';
                $("#RegistrationResult").empty();
                //document.getElementById("invokeError").style.display = 'none';

                var userid = $('input#userid').val();
                var username = $('input#username').val();
                var usersname = $('input#usersname').val();
                var amount = $('input#amount').val();
                var postData = JSON.stringify({"userid": userid, "username": username, "usersname": usersname, "amount": amount});
                $.ajax({
                    url: '/api/ledger/invoke',
                    type: 'POST',
                    crossDomain: true,
                    contentType: 'application/json',
                    data: postData,
                    success: function() {
                        $("#RegistrationResult").append(userid + " has been added to users list." );
                        document.getElementById("RegistrationSuccess").style.display = 'block';
                    },
                    error: function() {
                        // document.getElementById("invokeError").style.display = 'block';
                    }
                });
            });
        </script>

        <script>
            document.getElementById("buttonbinding").addEventListener("click", function(event){
                event.preventDefault();
                document.getElementById("bindingSuccess").style.display = 'none';
                $("#invokeResult").empty();
                //document.getElementById("invokeError").style.display = 'none';

                var assetid = $('input#assetid').val();
                var assettype = $('input#assettype').val();
                var useridforasset = $('input#useridforasset').val();
                var postData = JSON.stringify({"assetid": assetid, "assettype": assettype, "useridforasset": useridforasset});
                $.ajax({
                    url: '/api/ledger/binding',
                    type: 'POST',
                    crossDomain: true,
                    contentType: 'application/json',
                    data: postData,
                    success: function() {
                        $("#bindingResult").append(assetid + " has been added to asset list." );
                        document.getElementById("bindingSuccess").style.display = 'block';
                    },
                    error: function() {
                        // document.getElementById("invokeError").style.display = 'block';
                    }
                });
            });
        </script>


        <!-- Button 2 Action Listener-->
        <script>
        document.getElementById("uqbutton").addEventListener("click", function(event){
            event.preventDefault();
            document.getElementById("uqSuccess").style.display = 'none';
            $('#uqResult').empty();

            var uqid = $('input#uqid').val();
            var postData = JSON.stringify({"uqid": uqid});
            $.ajax({
                url: '/api/ledger/uqquery',
                type: 'POST',
                crossDomain: true,
                contentType: 'application/json',
                data: postData,
                success: function(result) {
                    $("#uqResult").append("User query result from the ledger: " + result);
                    document.getElementById("uqSuccess").style.display = 'block';
                },
                error: function(result) {
                    // document.getElementById("invokeError").style.display = 'block'; 
                }
            });
        });
        </script>

        <script>
            document.getElementById("aqbutton").addEventListener("click", function(event){
                event.preventDefault();
                document.getElementById("aqSuccess").style.display = 'none';
                $('#aqResult').empty();

                var aqid = $('input#aqid').val();
                var postData = JSON.stringify({"aqid": aqid});
                $.ajax({
                    url: '/api/ledger/aqquery',
                    type: 'POST',
                    crossDomain: true,
                    contentType: 'application/json',
                    data: postData,
                    success: function(result) {
                        $("#aqResult").append("Asset query result from the ledger: " + result);
                        document.getElementById("aqSuccess").style.display = 'block';
                    },
                    error: function(result) {
                        // document.getElementById("invokeError").style.display = 'block';
                    }
                });
            });
        </script>

        <script>
            document.getElementById("hisbutton").addEventListener("click", function(event){
                event.preventDefault();
                document.getElementById("hisSuccess").style.display = 'none';
                $('#hisResult').empty();

                var assethisid = $('input#assethisid').val();
                var postData = JSON.stringify({"assethisid": assethisid});
                $.ajax({
                    url: '/api/ledger/assethistory',
                    type: 'POST',
                    crossDomain: true,
                    contentType: 'application/json',
                    data: postData,
                    success: function(result) {
                        $("#hisResult").append("Query result for " + assethisid + " history from the ledger: " + result);
                        document.getElementById("hisSuccess").style.display = 'block';
                    },
                    error: function(result) {
                        // document.getElementById("invokeError").style.display = 'block';
                    }
                });
            });
        </script>

        <script>
            document.getElementById("exchangebutton").addEventListener("click", function(event){
                event.preventDefault();
                document.getElementById("exchangeSuccess").style.display = 'none';
                $("#exchangeResult").empty();
                //document.getElementById("invokeError").style.display = 'none';

                var aouserid = $('input#aouserid').val();
                var buserid = $('input#buserid').val();
                var assetidforex = $('input#assetidforex').val();
                var camount = $('input#camount').val();
                var postData = JSON.stringify({"aouserid": aouserid, "buserid": buserid, "assetidforex": assetidforex, "camount": camount});
                $.ajax({
                    url: '/api/ledger/exchange',
                    type: 'POST',
                    crossDomain: true,
                    contentType: 'application/json',
                    data: postData,
                    success: function() {
                        $("#exchangeResult").append(assetidforex + " has been transferred to " + buserid + " for an exchange for " + camount+ " TL." );
                        document.getElementById("exchangeSuccess").style.display = 'block';
                    },
                    error: function() {
                        // document.getElementById("invokeError").style.display = 'block';
                    }
                });
            });
        </script>
  




        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    </body>

</html>